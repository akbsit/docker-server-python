ARG PYTHON_VERSION=3.9
FROM python:${PYTHON_VERSION}

ARG CONTAINER_WORKDIR
WORKDIR ${CONTAINER_WORKDIR}

ARG REQUIREMENTS_FILE
COPY ./${REQUIREMENTS_FILE} ${CONTAINER_WORKDIR}
RUN pip3 install --upgrade pip -r ${REQUIREMENTS_FILE}

ARG EXTERNAL_WORKDIR
COPY .${EXTERNAL_WORKDIR} .${CONTAINER_WORKDIR}

ARG EXPOSE=5000
EXPOSE ${EXPOSE}
